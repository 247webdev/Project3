<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Battleship</title>
  <link type="text/css" rel="stylesheet" href="/css/main.css">
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
  <script src="https://cdn.socket.io/socket.io-1.2.0.js"></script>
  <!-- +++++++++++++++++ LOCAL Bootstrap ++++++++++++++++++ -->
  <link href="css/bootstrap.min.css" rel="stylesheet">
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- ++++++++++++++++++ CDN Bootstrap +++++++++++++++++++ -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap.min.css">
  <!-- Optional theme -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.1/css/bootstrap-theme.min.css">
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->
</head>
<body>

  
  <script>

  // fire up communication with socket io
  var socket = io();

  // This gets and sets the person who logs in
  var person = prompt("Please enter your name");
  if (person !== null) {
    document.getElementById("userName").innerHTML = "Hello " + person + "!";
    socket.emit('playerJoined', person);
  }

  // update the ship board with other players shots
  socket.on('shot', function(shotObj){
    // Updates the Header UI for who took a shot and the cell location
    if (shotObj.player !== person) {
      document.getElementById("shotPlayer").innerHTML = shotObj.player + " took a shot at " + shotObj.id + " Your turn!";
      // gets the shot fired and updates the gameboard
      // this is klugy, needs a better way...
      var hitArr = document.querySelectorAll('[data-id=' + shotObj.id + ']');
      $(hitArr[1]).css("background-color", "red");
    }
    // else 
    // {
    //   document.getElementById("shotPlayer").innerHTML = shotObj.player + " took a shot at " + shotObj.id + " Your turn!";
    // }

  });

  </script>
  <!-- ++++++++++++++++++ CDN Bootstrap +++++++++++++++++++ -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- ++++++++++++++++++ LOCAL Bootstrap +++++++++++++++++ -->
  <script src="js/bootstrap.min.js"></script>
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- +++++++++++++ CDN Bootstrap JavaScript +++++++++++++ -->
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/js/bootstrap.min.js"></script>
  <!-- ++++++++++++++++++++++++++++++++++++++++++++++++++++ -->

  <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
  <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
  <!--[if lt IE 9]>
    <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
    <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
  <![endif]-->

</body>
</html>